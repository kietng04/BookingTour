
Running 14 tests using 3 workers

[1A[2K[1/14] [chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:24:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should successfully login with real backend API
[1A[2K[2/14] [chromium-no-cors] ‚Ä∫ tests\tours.spec.ts:25:3 ‚Ä∫ Admin Tours ‚Ä∫ create tour real API returns 201 (workaround token)
[1A[2K[3/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:13:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should display login form correctly
[1A[2K[4/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:27:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should validate empty form submission
[1A[2K[chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:24:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should successfully login with real backend API
‚úÖ Login successful with real API!

[1A[2KToken: eyJhbGciOiJIUzM4NCJ9.eyJlbWFpbCI6ImFkbWluQGdtYWlsL...

[1A[2KUsername: admin

[1A[2KEmail: admin@gmail.com

[1A[2KRole: ADMIN

[1A[2K[5/14] [chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:64:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should handle invalid credentials correctly
[1A[2K[6/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:37:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should successfully login with valid credentials (mocked)
[1A[2K[chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:64:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should handle invalid credentials correctly
‚úÖ Invalid credentials handled correctly!

[1A[2K[7/14] [chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:87:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should persist session after page reload
[1A[2K[8/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:83:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should handle login failure with error message (mocked)
[1A[2K[chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:87:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should persist session after page reload
‚úÖ Session persisted after page reload!

[1A[2K[9/14] [chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:112:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should auto-redirect to dashboard if already authenticated
[1A[2K[chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:112:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should auto-redirect to dashboard if already authenticated
‚úÖ Auto-redirect working correctly!

[1A[2K[10/14] [chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:134:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should set lastActivity timestamp on login
[1A[2K[chromium-no-cors] ‚Ä∫ tests\login-real-api.spec.ts:134:3 ‚Ä∫ Admin Login Flow - Real API ‚Ä∫ should set lastActivity timestamp on login
‚úÖ LastActivity timestamp set on login!

[1A[2K  1) [chromium-no-cors] ‚Ä∫ tests\tours.spec.ts:25:3 ‚Ä∫ Admin Tours ‚Ä∫ create tour real API returns 201 (workaround token) 

    [31mTest timeout of 60000ms exceeded.[39m

    Error: page.waitForResponse: Test timeout of 60000ms exceeded.

      31 |
      32 |     const [resp] = await Promise.all([
    > 33 |       page.waitForResponse((r) => r.url().includes('/api/tours') && r.request().method() === 'POST'),
         |            ^
      34 |       page.getByRole('button', { name: 'T·∫°o m·ªõi' }).click(),
      35 |     ]);
      36 |
        at C:\Users\Kiet\Desktop\BookingTour\frontend-admin\tests\tours.spec.ts:33:12

    Error Context: test-results\tours-Admin-Tours-create-t-9fd47-turns-201-workaround-token--chromium-no-cors\error-context.md


[1A[2K[11/14] [chromium-no-cors] ‚Ä∫ tests\tours.spec.ts:40:3 ‚Ä∫ Admin Tours ‚Ä∫ edit tour shows success toast and navigates to list (stubbed)
[1A[2K  2) [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:83:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should handle login failure with error message (mocked) 

    [31mTest timeout of 60000ms exceeded.[39m

    Error: locator.fill: Test timeout of 60000ms exceeded.
    Call log:
    [2m  - waiting for getByRole('textbox', { name: 'Email / Username' })[22m


       96 |
       97 |     // Fill in login form with wrong credentials
    >  98 |     await page.getByRole('textbox', { name: 'Email / Username' }).fill('wrong@email.com');
          |                                                                   ^
       99 |     await page.getByRole('textbox', { name: 'Password' }).fill('wrongpass');
      100 |
      101 |     // Submit form
        at C:\Users\Kiet\Desktop\BookingTour\frontend-admin\tests\login.spec.ts:98:67

    Error Context: test-results\login-Admin-Login-Flow-sho-f2736--with-error-message-mocked--chromium-no-cors\error-context.md


[1A[2K[12/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:115:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should redirect to dashboard if already authenticated
[1A[2K[13/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:135:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should clear all localStorage keys on 401 response
[1A[2K[14/14] [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:181:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should check "Remember Me" functionality
[1A[2K  3) [chromium-no-cors] ‚Ä∫ tests\tours.spec.ts:40:3 ‚Ä∫ Admin Tours ‚Ä∫ edit tour shows success toast and navigates to list (stubbed) 

    [31mTest timeout of 60000ms exceeded.[39m

    Error: locator.fill: Test timeout of 60000ms exceeded.
    Call log:
    [2m  - waiting for getByRole('spinbutton', { name: 'Gi√° ng∆∞·ªùi l·ªõn (VND)' })[22m


      58 |     await page.goto('/tours/1');
      59 |     await expect(page.getByText('ƒêang t·∫£i d·ªØ li·ªáu tour...')).toBeHidden({ timeout: 5000 });
    > 60 |     await page.getByRole('spinbutton', { name: 'Gi√° ng∆∞·ªùi l·ªõn (VND)' }).fill('2500');
         |                                                                         ^
      61 |     await page.getByRole('button', { name: 'C·∫≠p nh·∫≠t' }).click();
      62 |     await expect(page.getByRole('alert')).toContainText('C·∫≠p nh·∫≠t tour th√†nh c√¥ng');
      63 |   });
        at C:\Users\Kiet\Desktop\BookingTour\frontend-admin\tests\tours.spec.ts:60:73

    Error Context: test-results\tours-Admin-Tours-edit-tou-e9228--navigates-to-list-stubbed--chromium-no-cors\error-context.md


[1A[2K  3 failed
    [chromium-no-cors] ‚Ä∫ tests\login.spec.ts:83:3 ‚Ä∫ Admin Login Flow ‚Ä∫ should handle login failure with error message (mocked) 
    [chromium-no-cors] ‚Ä∫ tests\tours.spec.ts:25:3 ‚Ä∫ Admin Tours ‚Ä∫ create tour real API returns 201 (workaround token) 
    [chromium-no-cors] ‚Ä∫ tests\tours.spec.ts:40:3 ‚Ä∫ Admin Tours ‚Ä∫ edit tour shows success toast and navigates to list (stubbed) 
  11 passed (2.2m)
